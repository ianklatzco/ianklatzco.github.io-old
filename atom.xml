<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Not Your Average End User]]></title>
  <link href="http://klatz.co/atom.xml" rel="self"/>
  <link href="http://klatz.co/"/>
  <updated>2014-10-25T19:14:10-05:00</updated>
  <id>http://klatz.co/</id>
  <author>
    <name><![CDATA[Ian Klatzco]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[New Blog]]></title>
    <link href="http://klatz.co/blog/2014/10/25/new-blog/"/>
    <updated>2014-10-25T01:06:35-05:00</updated>
    <id>http://klatz.co/blog/2014/10/25/new-blog</id>
    <content type="html"><![CDATA[<p>Here we are again&hellip;</p>

<p>I have, after some deliberation and much procrastination, finally setup my blog once again! I will attempt to populate it with old posts and old timestamps, and will likely change the theme to something I like better.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Building a Cheap Valentine's Day Card Audio Circuit]]></title>
    <link href="http://klatz.co/blog/2014/02/22/building-a-cheap-valentines-day-card-audio-circuit/"/>
    <updated>2014-02-22T19:43:39-06:00</updated>
    <id>http://klatz.co/blog/2014/02/22/building-a-cheap-valentines-day-card-audio-circuit</id>
    <content type="html"><![CDATA[<p>About two weeks before Valetine&rsquo;s Day, I got the idea of making a Zelda-themed card for a friend of mine. She and I are both big Zelda fans. I searched the web for a  card, until I found <a href="(http://blog.close-encounters.com.au/2013/02/normal-0-false-false-false.html">this one</a> that I liked because of the extra dimensions. It seems that the pop-up style heart container card is a pretty popular one overall, and this is one of many.</p>

<p>I decided to take it another step, incoporating some of my (few) electronics skills into the project. To be honest, it was mostly an excuse to order some parts off of Digikey and super-nerdify what would otherwise be a fairly straightforward project. But hey! It was extraordinarily fun.</p>

<!-- more -->


<p>So did some research for recordable card circuits, and I found <a href="http://hackaday.com/2011/11/22/musical-greeting-card-with-minimal-parts/">this Hackaday post</a> about how to make one on my own. I&rsquo;d been to Digikey&rsquo;s website before, but I had never made an order. Consequently, I had no idea what I was in for. I decided to go through with the project, and ended up ordering all the parts about a week in advance. After a minor issue with shipping a lithium-ion battery through UPS and <em>actually finding everything</em>, I got the parts on the Thursday night before Valentine&rsquo;s Day. I had some debugging left to do, so it was a fairly long night. It was by all means worth it.</p>

<p>The card itself is a relatively simple papercraft model, with some space inside to fit components. I printed it on some cardstock and cut it using an exacto knife.</p>

<h4>About the code</h4>

<p>I had a bit of an educational experience working on the code. I&rsquo;m familiar with Javascript and Python, and I&rsquo;ve worked with Arduino before, but I&rsquo;d never before really wrote new components. I used a modified version of the <a href="http://www.arduino.cc/en/Tutorial/Melody">Arduino&rsquo;s Melody example code</a>. Initially, I tuned the values with a tuning application (Instuner on the App Store) for the piezo buzzer, and added flat/sharp notes, as well as some notes an octave up I&rsquo;d need to play the bit of music. The code, more or less the same but with tuned values, is <a href="https://github.com/ianklatzco/melody_revised">on GitHub</a>. I then manually wrote transcribed the notes from some sheet music of the specific tune into the code, resulting in <a href="https://github.com/ianklatzco/melody_revised/blob/master/zelda_chest_noise.ino">this</a>.</p>

<h4>Hardware and writing the code to the ATtiny</h4>

<p>The electronics components were a bit trickier. I ordered about $5 in parts (<a href="http://i.imgur.com/bJdj4Qz.png">parts list</a>) along with some spare ATtinies for future projects. Initially, I thought that I would use a piezo buzzer and reed switch in the circuit, but in the end I opted for a speaker I had on hand (16ohm, 0.5w, salvaged from a similar, pre-recorded greeting card with a ROM) and a regular (SPST) switch (salvaged from the inside of a vending machine). Here&rsquo;s a photo of the (poorly drawn) circuit diagram:
<img src="http://i.imgur.com/0ULfMSj.jpg" alt="circuit diagram" />
Here&rsquo;re some of the parts:
<img src="http://i.imgur.com/QpoaPIs.jpg" alt="parts" /></p>

<p>I connected pins 0 and 1 on the ATtiny to the speaker and switch, respectively. After soldering everything in place, I decided that the reed switch was too difficult to align, so I swapped it for the SPST. I wrote the final version of the code to the ATtiny (or so I thought), connected the battery, and everything looked like it was good to go.</p>

<p>Suddenly, an eerie croaking noise came out of the speaker, audibly changing tones but doing so very slowly. As it was already about midnight at that, I panicked. I guessed the issue was the clock rate on the chip â€” I tested the code on the Arduino, which boasts a 20MHz crystal, as opposed to the ATtiny, which has a paltry 1MHz. A quick google search found a <a href="http://electronics.stackexchange.com/questions/7859/how-do-i-set-the-clock-speed-fuses-on-an-attiny85-when-using-an-arduino-as-a-pro">Stack Exchange</a> post that told me that I should multiply all values by a factor of sixteen, which worked splendidly. The notes were out of tune, and the croaking sounds remained, but it wasn&rsquo;t nearly as bad as before. The final code is also <a href="https://github.com/ianklatzco/melody_revised/blob/master/zelda_chest_noise_x16.ino">on GitHub</a>.</p>

<h4>Using the Arduino as an ISP (to program the ATtiny)</h4>

<p><img src="http://i.imgur.com/mtKQXWc.jpg" alt="programming" />
In order to program the ATtiny, I used the Arduino. I followed the guide at <a href="http://highlowtech.org/?p=1695">highlowtech.org</a> and it worked, if not with a few hiccups. Initially, I was pushing the ATtiny and a socket down into the breadboard, before I realized that the ATTiny could be pushed directly into it.</p>

<h4>Final Product</h4>

<iframe width="560" height="315" src="//www.youtube.com/embed/ansXraLD05M" frameborder="0" allowfullscreen></iframe>


<p>I have to thank two friends of mine, who provided awesome help throughout this project. Both who work in the tech industry. If you&rsquo;re a high school student, you should definitely try to communicate with professionals who work in positions you&rsquo;d like to have. If you&rsquo;re a professional, you should be open to helping kids pursue their interests. The relationships I&rsquo;ve developed have been extremely beneficial.</p>

<hr />

<h4>Hilarious Side Note</h4>

<p>Listening to serial communication is the coolest thing ever. It sounds a bit like a dial-up modem.</p>

<iframe width="560" height="315" src="//www.youtube.com/embed/nlxuCgJxEsg" frameborder="0" allowfullscreen></iframe>

]]></content>
  </entry>
  
</feed>
